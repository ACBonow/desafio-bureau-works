{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mb-3\"\n};\nconst _hoisted_2 = {\n  class: \"table table-sm table-hover\"\n};\nconst _hoisted_3 = {\n  class: \"table-light\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = {\n  class: \"d-flex justify-content-center\"\n};\nconst _hoisted_7 = [\"onClick\", \"title\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Campo de filtro \"), _createElementVNode(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Filtrar...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.filterTerm = $event),\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.applyFilters && $options.applyFilters(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.filterTerm]])]), _createElementVNode(\"table\", _hoisted_2, [_createElementVNode(\"thead\", _hoisted_3, [_createElementVNode(\"tr\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.headers, (header, headerIndex) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: headerIndex,\n      style: _normalizeStyle(header.style),\n      onClick: $event => $options.sortBy(header.field),\n      class: \"sortable\"\n    }, [_createTextVNode(_toDisplayString(header.label) + \" \", 1 /* TEXT */), $data.sortField === header.field ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString($data.sortOrder === 'asc' ? '▲' : '▼'), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 12 /* STYLE, PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.filteredItems, (item, itemIndex) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.fields, (field, fieldIndex) => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: fieldIndex\n      }, _toDisplayString(field === 'index' ? $props.currentPage * $props.pageSize + itemIndex + 1 : $options.getNestedValue(item, field)), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.actions, (action, actionIndex) => {\n      return _openBlock(), _createElementBlock(\"button\", {\n        key: actionIndex,\n        class: _normalizeClass(action.class),\n        onClick: $event => action.handler(item),\n        title: action.title\n      }, [_createElementVNode(\"i\", {\n        class: _normalizeClass(action.icon)\n      }, null, 2 /* CLASS */)], 10 /* CLASS, PROPS */, _hoisted_7);\n    }), 128 /* KEYED_FRAGMENT */))])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createCommentVNode","_createElementVNode","_hoisted_1","type","placeholder","_cache","$event","$data","filterTerm","onInput","args","$options","applyFilters","_hoisted_2","_hoisted_3","_Fragment","_renderList","$props","headers","header","headerIndex","style","_normalizeStyle","onClick","sortBy","field","_createTextVNode","_toDisplayString","label","sortField","_hoisted_5","sortOrder","_hoisted_4","filteredItems","item","itemIndex","id","fields","fieldIndex","currentPage","pageSize","getNestedValue","_hoisted_6","actions","action","actionIndex","_normalizeClass","handler","title","icon","_hoisted_7"],"sources":["C:\\Projetos\\desafio-bureau-works\\translator-manager-frontend\\src\\components\\TableView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Campo de filtro -->\r\n    <div class=\"mb-3\">\r\n      <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"Filtrar...\"\r\n          v-model=\"filterTerm\"\r\n          @input=\"applyFilters\"\r\n      />\r\n    </div>\r\n\r\n    <table class=\"table table-sm table-hover\">\r\n      <thead class=\"table-light\">\r\n      <tr>\r\n        <th\r\n            v-for=\"(header, headerIndex) in headers\"\r\n            :key=\"headerIndex\"\r\n            :style=\"header.style\"\r\n            @click=\"sortBy(header.field)\"\r\n            class=\"sortable\"\r\n        >\r\n          {{ header.label }}\r\n          <span v-if=\"sortField === header.field\">\r\n              {{ sortOrder === 'asc' ? '▲' : '▼' }}\r\n            </span>\r\n        </th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"(item, itemIndex) in filteredItems\" :key=\"item.id\">\r\n        <td v-for=\"(field, fieldIndex) in fields\" :key=\"fieldIndex\">\r\n          {{ field === 'index' ? (currentPage * pageSize) + itemIndex + 1 : getNestedValue(item, field) }}\r\n        </td>\r\n        <td>\r\n          <div class=\"d-flex justify-content-center\">\r\n            <button\r\n                v-for=\"(action, actionIndex) in actions\"\r\n                :key=\"actionIndex\"\r\n                :class=\"action.class\"\r\n                @click=\"action.handler(item)\"\r\n                :title=\"action.title\"\r\n            >\r\n              <i :class=\"action.icon\"></i>\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    headers: { type: Array, required: true },\r\n    fields: { type: Array, required: true },\r\n    items: { type: Array, required: true },\r\n    actions: { type: Array, required: true },\r\n    currentPage: { type: Number, default: 0 },\r\n    pageSize: { type: Number, default: 10 },\r\n  },\r\n  data() {\r\n    return {\r\n      filterTerm: '',\r\n      sortField: null,\r\n      sortOrder: 'asc',\r\n      filteredItems: [...this.items],\r\n    };\r\n  },\r\n  watch: {\r\n    items: {\r\n      handler(newItems) {\r\n        this.filteredItems = [...newItems];\r\n        this.applyFilters();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  methods: {\r\n    getNestedValue(obj, path) {\r\n      return path.split('.').reduce((acc, key) => acc && acc[key] ? acc[key] : '-', obj);\r\n    },\r\n    applyFilters() {\r\n      const term = this.filterTerm.toLowerCase();\r\n      this.filteredItems = this.items.filter((item) =>\r\n          this.fields.some((field) =>\r\n              String(this.getNestedValue(item, field)).toLowerCase().includes(term)\r\n          )\r\n      );\r\n      this.sortItems();\r\n    },\r\n    sortBy(field) {\r\n      if (this.sortField === field) {\r\n        this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';\r\n      } else {\r\n        this.sortField = field;\r\n        this.sortOrder = 'asc';\r\n      }\r\n      this.sortItems();\r\n    },\r\n    sortItems() {\r\n      if (!this.sortField) return;\r\n      this.filteredItems.sort((a, b) => {\r\n        const valueA = this.getNestedValue(a, this.sortField);\r\n        const valueB = this.getNestedValue(b, this.sortField);\r\n        if (valueA < valueB) return this.sortOrder === 'asc' ? -1 : 1;\r\n        if (valueA > valueB) return this.sortOrder === 'asc' ? 1 : -1;\r\n        return 0;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.sortable {\r\n  cursor: pointer;\r\n}\r\n</style>"],"mappings":";;EAGSA,KAAK,EAAC;AAAM;;EAUVA,KAAK,EAAC;AAA4B;;EAChCA,KAAK,EAAC;AAAa;mBAdhC;;EAAAC,GAAA;AAAA;;EAoCeD,KAAK,EAAC;AAA+B;mBApCpD;;uBACEE,mBAAA,CAkDM,cAjDJC,mBAAA,qBAAwB,EACxBC,mBAAA,CAQM,OARNC,UAQM,G,gBAPJD,mBAAA,CAME;IALEE,IAAI,EAAC,MAAM;IACXN,KAAK,EAAC,cAAc;IACpBO,WAAW,EAAC,YAAY;IAPlC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAQmBC,KAAA,CAAAC,UAAU,GAAAF,MAAA;IAClBG,OAAK,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;iEADXH,KAAA,CAAAC,UAAU,E,KAKzBP,mBAAA,CAqCQ,SArCRY,UAqCQ,GApCNZ,mBAAA,CAeQ,SAfRa,UAeQ,GAdRb,mBAAA,CAaK,c,kBAZHF,mBAAA,CAWKgB,SAAA,QA3BbC,WAAA,CAiB4CC,MAAA,CAAAC,OAAO,EAjBnD,CAiBoBC,MAAM,EAAEC,WAAW;yBAD/BrB,mBAAA,CAWK;MATAD,GAAG,EAAEsB,WAAW;MAChBC,KAAK,EAnBlBC,eAAA,CAmBoBH,MAAM,CAACE,KAAK;MACnBE,OAAK,EAAAjB,MAAA,IAAEK,QAAA,CAAAa,MAAM,CAACL,MAAM,CAACM,KAAK;MAC3B5B,KAAK,EAAC;QArBlB6B,gBAAA,CAAAC,gBAAA,CAuBaR,MAAM,CAACS,KAAK,IAAG,GAClB,iBAAYrB,KAAA,CAAAsB,SAAS,KAAKV,MAAM,CAACM,KAAK,I,cAAtC1B,mBAAA,CAES,QA1BnB+B,UAAA,EAAAH,gBAAA,CAyBiBpB,KAAA,CAAAwB,SAAS,0CAzB1B/B,mBAAA,e,yBAAAgC,UAAA;sCA8BM/B,mBAAA,CAmBQ,iB,kBAlBRF,mBAAA,CAiBKgB,SAAA,QAhDXC,WAAA,CA+BsCT,KAAA,CAAA0B,aAAa,EA/BnD,CA+BkBC,IAAI,EAAEC,SAAS;yBAA3BpC,mBAAA,CAiBK;MAjB2CD,GAAG,EAAEoC,IAAI,CAACE;2BACxDrC,mBAAA,CAEKgB,SAAA,QAlCbC,WAAA,CAgC0CC,MAAA,CAAAoB,MAAM,EAhChD,CAgCoBZ,KAAK,EAAEa,UAAU;2BAA7BvC,mBAAA,CAEK;QAFsCD,GAAG,EAAEwC;MAAU,GAAAX,gBAAA,CACrDF,KAAK,eAAgBR,MAAA,CAAAsB,WAAW,GAAGtB,MAAA,CAAAuB,QAAQ,GAAIL,SAAS,OAAOxB,QAAA,CAAA8B,cAAc,CAACP,IAAI,EAAET,KAAK;oCAE9FxB,mBAAA,CAYK,aAXHA,mBAAA,CAUM,OAVNyC,UAUM,I,kBATJ3C,mBAAA,CAQSgB,SAAA,QA7CrBC,WAAA,CAsCgDC,MAAA,CAAA0B,OAAO,EAtCvD,CAsCwBC,MAAM,EAAEC,WAAW;2BAD/B9C,mBAAA,CAQS;QANJD,GAAG,EAAE+C,WAAW;QAChBhD,KAAK,EAxCtBiD,eAAA,CAwCwBF,MAAM,CAAC/C,KAAK;QACnB0B,OAAK,EAAAjB,MAAA,IAAEsC,MAAM,CAACG,OAAO,CAACb,IAAI;QAC1Bc,KAAK,EAAEJ,MAAM,CAACI;UAEjB/C,mBAAA,CAA4B;QAAxBJ,KAAK,EA5CvBiD,eAAA,CA4CyBF,MAAM,CAACK,IAAI;uDA5CpCC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}