{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nexport default {\n  props: {\n    headers: {\n      type: Array,\n      required: true\n    },\n    fields: {\n      type: Array,\n      required: true\n    },\n    items: {\n      type: Array,\n      required: true\n    },\n    actions: {\n      type: Array,\n      required: true\n    },\n    currentPage: {\n      type: Number,\n      default: 0\n    },\n    pageSize: {\n      type: Number,\n      default: 10\n    }\n  },\n  data() {\n    return {\n      filterTerm: '',\n      sortField: null,\n      sortOrder: 'asc',\n      filteredItems: [...this.items]\n    };\n  },\n  watch: {\n    items: {\n      handler(newItems) {\n        this.filteredItems = [...newItems];\n        this.applyFilters();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    getNestedValue(obj, path) {\n      return path.split('.').reduce((acc, key) => acc && acc[key] ? acc[key] : '-', obj);\n    },\n    applyFilters() {\n      const term = this.filterTerm.toLowerCase();\n      this.filteredItems = this.items.filter(item => this.fields.some(field => String(this.getNestedValue(item, field)).toLowerCase().includes(term)));\n      this.sortItems();\n    },\n    sortBy(field) {\n      if (this.sortField === field) {\n        this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';\n      } else {\n        this.sortField = field;\n        this.sortOrder = 'asc';\n      }\n      this.sortItems();\n    },\n    sortItems() {\n      if (!this.sortField) return;\n      this.filteredItems.sort((a, b) => {\n        const valueA = this.getNestedValue(a, this.sortField);\n        const valueB = this.getNestedValue(b, this.sortField);\n        if (valueA < valueB) return this.sortOrder === 'asc' ? -1 : 1;\n        if (valueA > valueB) return this.sortOrder === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n  }\n};","map":{"version":3,"names":["props","headers","type","Array","required","fields","items","actions","currentPage","Number","default","pageSize","data","filterTerm","sortField","sortOrder","filteredItems","watch","handler","newItems","applyFilters","deep","methods","getNestedValue","obj","path","split","reduce","acc","key","term","toLowerCase","filter","item","some","field","String","includes","sortItems","sortBy","sort","a","b","valueA","valueB"],"sources":["C:\\Projetos\\desafio-bureau-works\\translator-manager-frontend\\src\\components\\TableView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Campo de filtro -->\r\n    <div class=\"mb-3\">\r\n      <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"Filtrar...\"\r\n          v-model=\"filterTerm\"\r\n          @input=\"applyFilters\"\r\n      />\r\n    </div>\r\n\r\n    <table class=\"table table-sm table-hover\">\r\n      <thead class=\"table-light\">\r\n      <tr>\r\n        <th\r\n            v-for=\"(header, headerIndex) in headers\"\r\n            :key=\"headerIndex\"\r\n            :style=\"header.style\"\r\n            @click=\"sortBy(header.field)\"\r\n            class=\"sortable\"\r\n        >\r\n          {{ header.label }}\r\n          <span v-if=\"sortField === header.field\">\r\n              {{ sortOrder === 'asc' ? '▲' : '▼' }}\r\n            </span>\r\n        </th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"(item, itemIndex) in filteredItems\" :key=\"item.id\">\r\n        <td v-for=\"(field, fieldIndex) in fields\" :key=\"fieldIndex\">\r\n          {{ field === 'index' ? (currentPage * pageSize) + itemIndex + 1 : getNestedValue(item, field) }}\r\n        </td>\r\n        <td>\r\n          <div class=\"d-flex justify-content-center\">\r\n            <button\r\n                v-for=\"(action, actionIndex) in actions\"\r\n                :key=\"actionIndex\"\r\n                :class=\"action.class\"\r\n                @click=\"action.handler(item)\"\r\n                :title=\"action.title\"\r\n            >\r\n              <i :class=\"action.icon\"></i>\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    headers: { type: Array, required: true },\r\n    fields: { type: Array, required: true },\r\n    items: { type: Array, required: true },\r\n    actions: { type: Array, required: true },\r\n    currentPage: { type: Number, default: 0 },\r\n    pageSize: { type: Number, default: 10 },\r\n  },\r\n  data() {\r\n    return {\r\n      filterTerm: '',\r\n      sortField: null,\r\n      sortOrder: 'asc',\r\n      filteredItems: [...this.items],\r\n    };\r\n  },\r\n  watch: {\r\n    items: {\r\n      handler(newItems) {\r\n        this.filteredItems = [...newItems];\r\n        this.applyFilters();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  methods: {\r\n    getNestedValue(obj, path) {\r\n      return path.split('.').reduce((acc, key) => acc && acc[key] ? acc[key] : '-', obj);\r\n    },\r\n    applyFilters() {\r\n      const term = this.filterTerm.toLowerCase();\r\n      this.filteredItems = this.items.filter((item) =>\r\n          this.fields.some((field) =>\r\n              String(this.getNestedValue(item, field)).toLowerCase().includes(term)\r\n          )\r\n      );\r\n      this.sortItems();\r\n    },\r\n    sortBy(field) {\r\n      if (this.sortField === field) {\r\n        this.sortOrder = this.sortOrder === 'asc' ? 'desc' : 'asc';\r\n      } else {\r\n        this.sortField = field;\r\n        this.sortOrder = 'asc';\r\n      }\r\n      this.sortItems();\r\n    },\r\n    sortItems() {\r\n      if (!this.sortField) return;\r\n      this.filteredItems.sort((a, b) => {\r\n        const valueA = this.getNestedValue(a, this.sortField);\r\n        const valueB = this.getNestedValue(b, this.sortField);\r\n        if (valueA < valueB) return this.sortOrder === 'asc' ? -1 : 1;\r\n        if (valueA > valueB) return this.sortOrder === 'asc' ? 1 : -1;\r\n        return 0;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.sortable {\r\n  cursor: pointer;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}